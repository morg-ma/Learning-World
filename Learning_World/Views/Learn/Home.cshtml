@model List<Module>
@{
	ViewData["Title"] = "Home";
}



<h5>@ViewBag.CourseTilte</h5>

<section style="display:flex; gap:3em;">
    <article class="border rounded p-3" style="flex:1; width: 250px; background-color: #f8f9fa;">
        <h6 class="fw-bold mb-3">Course Material</h6>
        <ul class="list-group" id="moduleList">
            @foreach(var module in Model)
            {
                <li class="list-group-item list-group-item-action d-flex align-items-center"
                    style="cursor: pointer;"
                    role="button"
                    onclick="setActive(this, @module.ModuleId)">
                    <span class="rounded-circle bg-secondary bg-opacity-25 d-inline-block"
                          style="width: 15px; height: 15px; margin-right: 10px;"></span>
                    @module.Title
                </li>
            }
        </ul>
    </article>
    
    <article class="border border-secondary" style="flex:3">
        <div id="div1"></div>
    </article>
</section>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var firstModule = document.querySelector("#moduleList .list-group-item");
        if (firstModule) {
            firstModule.click(); // Simulate a click on the first module
        }
    });
</script>



<script>
    function setActive(element, id) {
        const items = document.querySelectorAll('#moduleList .list-group-item');
        items.forEach(item => {
            item.style.backgroundColor = '';
            item.style.borderLeft = '';
            item.style.marginLeft = '';
        });

        element.style.backgroundColor = '#e9ecef';
        element.style.borderLeft = '3px solid #0d6efd';
        element.style.marginLeft = '-2px';

    
        $.ajax({
            url: '@Url.Action("PartsPartialView", "Learn")?id=' + id,
            success: function (result) {
                $("#div1").html(result);
            }
        });
    }
</script>





@section Scripts
{
	<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
	<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
}






@* <div class="border rounded p-3" style="width: 250px; background-color: #f8f9fa;">
    <h6 class="fw-bold mb-3">Course Material</h6>

    <ul class="list-group list-group-flush">
        <li class="list-group-item list-group-item-action d-flex align-items-center" style="cursor: pointer;">
            <span class="rounded-circle bg-secondary bg-opacity-25 d-inline-block" style="width: 15px; height: 15px; margin-right: 10px;"></span>
            Module 1
        </li>
        <li class="list-group-item list-group-item-action d-flex align-items-center" style="cursor: pointer;">
            <span class="rounded-circle bg-secondary bg-opacity-25 d-inline-block" style="width: 15px; height: 15px; margin-right: 10px;"></span>
            Module 2
        </li>
        <li class="list-group-item d-flex align-items-center" style="margin-left:-3px; border-left: 3px solid #0d6efd; background-color: #e9ecef; cursor: pointer;">
            <span class="rounded-circle bg-secondary bg-opacity-25 d-inline-block" style="width: 15px; height: 15px; margin-right: 10px;"></span>
            Module 3
        </li>
        <li class="list-group-item list-group-item-action d-flex align-items-center" style="cursor: pointer;">
            <span class="rounded-circle bg-secondary bg-opacity-25 d-inline-block" style="width: 15px; height: 15px; margin-right: 10px;"></span>
            Module 4
        </li>
        <li class="list-group-item list-group-item-action d-flex align-items-center" style="cursor: pointer;">
            <span class="rounded-circle bg-secondary bg-opacity-25 d-inline-block" style="width: 15px; height: 15px; margin-right: 10px;"></span>
            Module 5
        </li>
    </ul>
</div> *@